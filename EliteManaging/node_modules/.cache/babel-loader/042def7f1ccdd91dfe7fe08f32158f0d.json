{"ast":null,"code":"/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { StorageHelper } from '@aws-amplify/core';\n/**\n * Default cache config\n */\n\nexport var defaultConfig = {\n  keyPrefix: 'aws-amplify-cache',\n  capacityInBytes: 1048576,\n  itemMaxSize: 210000,\n  defaultTTL: 259200000,\n  defaultPriority: 5,\n  warningThreshold: 0.8,\n  // the storage helper will check if localStorage exists,\n  // if not, will use a in-memory object instead\n  storage: new StorageHelper().getStorage()\n};\n/**\n * return the byte size of the string\n * @param str\n */\n\nexport function getByteLength(str) {\n  var ret = 0;\n  ret = str.length;\n\n  for (var i = str.length; i >= 0; i -= 1) {\n    var charCode = str.charCodeAt(i);\n\n    if (charCode > 0x7f && charCode <= 0x7ff) {\n      ret += 1;\n    } else if (charCode > 0x7ff && charCode <= 0xffff) {\n      ret += 2;\n    } // trail surrogate\n\n\n    if (charCode >= 0xdc00 && charCode <= 0xdfff) {\n      i -= 1;\n    }\n  }\n\n  return ret;\n}\n/**\n * get current time\n */\n\nexport function getCurrTime() {\n  var currTime = new Date();\n  return currTime.getTime();\n}\n/**\n * check if passed value is an integer\n */\n\nexport function isInteger(value) {\n  if (Number.isInteger) {\n    return Number.isInteger(value);\n  }\n\n  return _isInteger(value);\n}\n\nfunction _isInteger(value) {\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\n/**\n * provide an object as the in-memory cache\n */\n\n\nvar store = {};\n\nvar CacheObject =\n/** @class */\nfunction () {\n  function CacheObject() {}\n\n  CacheObject.clear = function () {\n    store = {};\n  };\n\n  CacheObject.getItem = function (key) {\n    return store[key] || null;\n  };\n\n  CacheObject.setItem = function (key, value) {\n    store[key] = value;\n  };\n\n  CacheObject.removeItem = function (key) {\n    delete store[key];\n  };\n\n  return CacheObject;\n}();\n\nexport { CacheObject };","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;AAcA,SAASA,aAAT,QAA8B,mBAA9B;AACA;;;;AAGA,OAAO,IAAMC,aAAa,GAAgB;EACzCC,SAAS,EAAE,mBAD8B;EAEzCC,eAAe,EAAE,OAFwB;EAGzCC,WAAW,EAAE,MAH4B;EAIzCC,UAAU,EAAE,SAJ6B;EAKzCC,eAAe,EAAE,CALwB;EAMzCC,gBAAgB,EAAE,GANuB;EAOzC;EACA;EACAC,OAAO,EAAE,IAAIR,aAAJ,GAAoBS,UAApB;AATgC,CAAnC;AAYP;;;;;AAIA,OAAM,SAAUC,aAAV,CAAwBC,GAAxB,EAAmC;EACxC,IAAIC,GAAG,GAAW,CAAlB;EACAA,GAAG,GAAGD,GAAG,CAACE,MAAV;;EAEA,KAAK,IAAIC,CAAC,GAAGH,GAAG,CAACE,MAAjB,EAAyBC,CAAC,IAAI,CAA9B,EAAiCA,CAAC,IAAI,CAAtC,EAAyC;IACxC,IAAMC,QAAQ,GAAWJ,GAAG,CAACK,UAAJ,CAAeF,CAAf,CAAzB;;IACA,IAAIC,QAAQ,GAAG,IAAX,IAAmBA,QAAQ,IAAI,KAAnC,EAA0C;MACzCH,GAAG,IAAI,CAAP;IACA,CAFD,MAEO,IAAIG,QAAQ,GAAG,KAAX,IAAoBA,QAAQ,IAAI,MAApC,EAA4C;MAClDH,GAAG,IAAI,CAAP;IACA,CANuC,CAOxC;;;IACA,IAAIG,QAAQ,IAAI,MAAZ,IAAsBA,QAAQ,IAAI,MAAtC,EAA8C;MAC7CD,CAAC,IAAI,CAAL;IACA;EACD;;EAED,OAAOF,GAAP;AACA;AAED;;;;AAGA,OAAM,SAAUK,WAAV,GAAqB;EAC1B,IAAMC,QAAQ,GAAG,IAAIC,IAAJ,EAAjB;EACA,OAAOD,QAAQ,CAACE,OAAT,EAAP;AACA;AAED;;;;AAGA,OAAM,SAAUC,SAAV,CAAoBC,KAApB,EAAyB;EAC9B,IAAIC,MAAM,CAACF,SAAX,EAAsB;IACrB,OAAOE,MAAM,CAACF,SAAP,CAAiBC,KAAjB,CAAP;EACA;;EAED,OAAOE,UAAU,CAACF,KAAD,CAAjB;AACA;;AAED,SAASE,UAAT,CAAoBF,KAApB,EAAyB;EACxB,OACC,OAAOA,KAAP,KAAiB,QAAjB,IAA6BG,QAAQ,CAACH,KAAD,CAArC,IAAgDI,IAAI,CAACC,KAAL,CAAWL,KAAX,MAAsBA,KADvE;AAGA;AAED;;;;;AAGA,IAAIM,KAAK,GAAG,EAAZ;;AACA;AAAA;AAAA;EAAA,wBAgBC;;EAfOC,oBAAP;IACCD,KAAK,GAAG,EAAR;EACA,CAFM;;EAIAC,sBAAP,UAAeC,GAAf,EAA0B;IACzB,OAAOF,KAAK,CAACE,GAAD,CAAL,IAAc,IAArB;EACA,CAFM;;EAIAD,sBAAP,UAAeC,GAAf,EAA4BR,KAA5B,EAAyC;IACxCM,KAAK,CAACE,GAAD,CAAL,GAAaR,KAAb;EACA,CAFM;;EAIAO,yBAAP,UAAkBC,GAAlB,EAA6B;IAC5B,OAAOF,KAAK,CAACE,GAAD,CAAZ;EACA,CAFM;;EAGR;AAAC,CAhBD","names":["StorageHelper","defaultConfig","keyPrefix","capacityInBytes","itemMaxSize","defaultTTL","defaultPriority","warningThreshold","storage","getStorage","getByteLength","str","ret","length","i","charCode","charCodeAt","getCurrTime","currTime","Date","getTime","isInteger","value","Number","_isInteger","isFinite","Math","floor","store","CacheObject","key"],"sources":["C:\\Users\\jacob\\OneDrive\\College\\github\\resumeprojectsrepo\\resumeprojects\\EliteManaging\\node_modules\\@aws-amplify\\cache\\src\\Utils\\CacheUtils.ts"],"sourcesContent":["/*\r\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\r\n * the License. A copy of the License is located at\r\n *\r\n *     http://aws.amazon.com/apache2.0/\r\n *\r\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\r\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\r\n * and limitations under the License.\r\n */\r\n\r\nimport { CacheConfig, CacheItem, CacheItemOptions } from '../types';\r\nimport { StorageHelper } from '@aws-amplify/core';\r\n/**\r\n * Default cache config\r\n */\r\nexport const defaultConfig: CacheConfig = {\r\n\tkeyPrefix: 'aws-amplify-cache',\r\n\tcapacityInBytes: 1048576, // 1MB\r\n\titemMaxSize: 210000, // about 200kb\r\n\tdefaultTTL: 259200000, // about 3 days\r\n\tdefaultPriority: 5,\r\n\twarningThreshold: 0.8,\r\n\t// the storage helper will check if localStorage exists,\r\n\t// if not, will use a in-memory object instead\r\n\tstorage: new StorageHelper().getStorage(),\r\n};\r\n\r\n/**\r\n * return the byte size of the string\r\n * @param str\r\n */\r\nexport function getByteLength(str: string): number {\r\n\tlet ret: number = 0;\r\n\tret = str.length;\r\n\r\n\tfor (let i = str.length; i >= 0; i -= 1) {\r\n\t\tconst charCode: number = str.charCodeAt(i);\r\n\t\tif (charCode > 0x7f && charCode <= 0x7ff) {\r\n\t\t\tret += 1;\r\n\t\t} else if (charCode > 0x7ff && charCode <= 0xffff) {\r\n\t\t\tret += 2;\r\n\t\t}\r\n\t\t// trail surrogate\r\n\t\tif (charCode >= 0xdc00 && charCode <= 0xdfff) {\r\n\t\t\ti -= 1;\r\n\t\t}\r\n\t}\r\n\r\n\treturn ret;\r\n}\r\n\r\n/**\r\n * get current time\r\n */\r\nexport function getCurrTime(): number {\r\n\tconst currTime = new Date();\r\n\treturn currTime.getTime();\r\n}\r\n\r\n/**\r\n * check if passed value is an integer\r\n */\r\nexport function isInteger(value): boolean {\r\n\tif (Number.isInteger) {\r\n\t\treturn Number.isInteger(value);\r\n\t}\r\n\r\n\treturn _isInteger(value);\r\n}\r\n\r\nfunction _isInteger(value): boolean {\r\n\treturn (\r\n\t\ttypeof value === 'number' && isFinite(value) && Math.floor(value) === value\r\n\t);\r\n}\r\n\r\n/**\r\n * provide an object as the in-memory cache\r\n */\r\nlet store = {};\r\nexport class CacheObject {\r\n\tstatic clear(): void {\r\n\t\tstore = {};\r\n\t}\r\n\r\n\tstatic getItem(key: string): string | null {\r\n\t\treturn store[key] || null;\r\n\t}\r\n\r\n\tstatic setItem(key: string, value: string): void {\r\n\t\tstore[key] = value;\r\n\t}\r\n\r\n\tstatic removeItem(key: string): void {\r\n\t\tdelete store[key];\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}